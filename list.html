<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tab</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <link rel="stylesheet" href="css/base.css"/>
    <link rel="stylesheet" href="scss/everyone/base/base.css"/>
</head>
<body>
<!--页头-->
<div class="header clearfix">
    <div class="left fl">
        <input type="search" name="" id="btn"/>
        <span class="search"></span>
        <button>搜索</button>
    </div>
    <div class="right fr">
        <a href="personCenter.html" class="person">
        </a>
    </div>
</div>
<!--广告-->
<div class="ad"></div>
<!--商品类别栏-->
<div class="banner">
    <ul id="list">
        <li class="bor">新鲜蔬菜</li>
        <li>禽蛋粮油</li>
        <li>干货调料</li>
        <li>餐饮用品</li>
        <li>半成品</li>
        <li>备份1</li>
        <li>备份2</li>
        <li>备份3</li>
    </ul>
</div>
<div class="line"></div>
<!--商品具体信息-->
<div class="shopping">
    <div class="outside clearfix">
        <div class="shopping-img fl"></div>
        <div class="shopping-content fl">
            <div class="content-top">
                <span>新鲜土豆</span>
                <span>（优质）</span>
            </div>
            <div class="content-mid">
                <span class="mid-one"></span>
                <span class="mid-two">19.9</span>
                <span class="mid-three">23.9</span>
                <span class="mid-four">斤</span>
            </div>
            <div class="content-bottom clearfix">
                <span class="bottom-one fl"></span>
                <span class="bottom-two">三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染</span>
            </div>
        </div>
        <div class="shopping-car fl">
            <div class="car"></div>
        </div>
    </div>
    <div class="outside clearfix">
        <div class="shopping-img fl"></div>
        <div class="shopping-content fl">
            <div class="content-top">
                <span>新鲜土豆</span>
                <span>（优质）</span>
            </div>
            <div class="content-mid">
                <span class="mid-one"></span>
                <span class="mid-two">19.9</span>
                <span class="mid-three">23.9</span>
                <span class="mid-four">斤</span>
            </div>
            <div class="content-bottom clearfix">
                <span class="bottom-one fl"></span>
                <span class="bottom-two">三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染</span>
            </div>
        </div>
        <div class="shopping-car fl">
            <div class="car"></div>
        </div>
    </div>
    <div class="outside clearfix">
        <div class="shopping-img fl"></div>
        <div class="shopping-content fl">
            <div class="content-top">
                <span>新鲜土豆</span>
                <span>（优质）</span>
            </div>
            <div class="content-mid">
                <span class="mid-one"></span>
                <span class="mid-two">19.9</span>
                <span class="mid-three">23.9</span>
                <span class="mid-four">斤</span>
            </div>
            <div class="content-bottom clearfix">
                <span class="bottom-one fl"></span>
                <span class="bottom-two">三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染</span>
            </div>
        </div>
        <div class="shopping-car fl">
            <div class="car"></div>
        </div>
    </div>
    <div class="outside clearfix">
        <div class="shopping-img fl"></div>
        <div class="shopping-content fl">
            <div class="content-top">
                <span>新鲜土豆</span>
                <span>（优质）</span>
            </div>
            <div class="content-mid">
                <span class="mid-one"></span>
                <span class="mid-two">19.9</span>
                <span class="mid-three">23.9</span>
                <span class="mid-four">斤</span>
            </div>
            <div class="content-bottom clearfix">
                <span class="bottom-one fl"></span>
                <span class="bottom-two">三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染三近期送，请注意订单量，新鲜绿色无污染</span>
            </div>
        </div>
        <div class="shopping-car fl">
            <div class="car"></div>
        </div>
    </div>
</div>
<!--弹出层-->
<div class="popup">

    <div class="popup-content">
        <div class="popup-content-top clearfix">
            <div class="top-left fl">
                <div class="left-img"></div>
            </div>
            <div class="top-right fl">
                <p class="mid-num">
                    <span>23.9</span>
                    <span>25</span>
                </p>

                <p class="mid-word">
                    <span>新鲜土豆</span>
                </p>
            </div>
        </div>
        <div class="popup-content-mid">
            <div class="standard">
                <p>规格</p>

                <div class="standard-some">
                    <span class="jin jin1">五斤</span>
                    <span class="jin jin2">十斤</span>
                    <span class="jin jin3">十五斤</span>
                    <span class="jin jin4">五斤</span>
                    <span class="jin jin5">十斤</span>
                    <span class="jin jin6">十五斤</span>
                </div>
            </div>
        </div>
        <div class="buy-num">
            <span>购买数量</span><span>（每人限购10件）</span>

            <p class="number">
                <span class="subtrack symbol"></span>
                <input type="number" value="1" class="htm"/>
                <span class="add symbol"></span>
            </p>
        </div>
        <div class="popup-content-bott clearfix">
            <div class="bott-cancel fl">取消</div>
            <div class="bott-car fr">加入购物车</div>
        </div>
    </div>
</div>

<!--购物车标-->
<div class="show-car">
    <span class="show-num">0</span>
</div>
</body>
<script src="js/plugins/jquery.min.js"></script>
<script>
    $(function () {
        (function(){
            //防止在触碰 popup 时，遮挡层下移动
            $('.popup').on('touchmove', function (e) {
                return false;
            });

            //点击 页面的小购物车 显示 弹出页  点击 取消 弹出页消失
            $(".bott-cancel").on("click", function () {
                $(".popup").animate({
                    'height' : '0px'
                },200,function(){
                    $(".popup").css('display','none');
                })
            });
            $(".car").on("click", function () {
                $(".popup").css('display','block');
                $(".popup").animate({
                    'height' : '100%'
                },200,function(){
                })
            });

            //根据  ul 下 li 的多少设置 ul 的宽度 防止空白产生
            function widthUl(list) {
                var w = $('' + list + '>li'), num = 0;
                w.map(function (i, v) {
                    num += $(v).width();
                });
                $(list).width(num + 'px');
            }
            widthUl('#list');

            //点击高亮 斤数 的六个区块
            $('.jin').on("click", function () {
                $(this).css({
                    "border": "1px solid #dd137b",
                    'color': '#dd137b'
                });
                $(this).siblings().css({
                    "border": "1px solid #cccccc",
                    'color': '#cccccc'
                });
            })

            //点击 banner 栏，改变颜色和下划线
            $('#list>li').on('click', function () {
                $(this).css('color', '#dd137b').addClass('bor');
                $(this).siblings().css('color', '#666666').removeClass('bor');
            })

            // 点击 加减中间数字发生改变
            $('.subtrack').on('click', function () {
                var num = $('.htm').val();
                num = parseInt(num) - 1;
                if (num <= 0) {
                    num = 0;
                }
                $('.htm').val(num);
            })
            $('.add').on('click', function () {
                var num = $('.htm').val();
                num = parseInt(num) + 1;
                $('.htm').val(num);
            })
            //点击 弹出层的右下角 购物车 弹出层消失 图片出现 变小向下变动
            $('.bott-car').click(function(){
                //获取加减中得到的数字
                var num = $('.htm').val();
                $('.show-num').html( num );
                //弹出层消失
                $('.show-car').css('z-index','200');
                $(".popup").animate({
                    'height' : '0px'
                },500,function(){
                    $(".popup").css('display','none');
                })
                //图片出现 变小向下变动的效果
                $('.top-left').animate({
                    'width' : '0px',
                    'height' : '0px',
                    'left' : '0px',
                    'bottom' : '-350px'
                },500,function(){
                    $('.show-car').css('z-index','0');
                    $('.top-left').animate({
                        'width' : '150px',
                        'height' : '150px',
                        'left' : '10px',
                        'bottom' : '0px'
                    })
                });
            })
        })()
    })
</script>
</html>